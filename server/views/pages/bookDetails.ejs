<h1 class="display-4 mb-4 text-center"><%= book.title || "" %></h1>

<div class="row justify-content-center">
  <!-- Cover -->
  <div class="col-md-4 d-flex justify-content-center mb-3 mb-md-0">
    <% if (book.isbn) { %>
      <img
        src="https://covers.openlibrary.org/b/isbn/<%= book.isbn %>-L.jpg"
        alt="Cover of <%= book.title %>"
        class="img-fluid shadow-sm book-cover"
      />
    <% } else { %>
      <div class="text-muted fst-italic p-4 text-center bg-light" style="width:100%;">
        No Cover Available
      </div>
    <% } %>
  </div>

  <!-- Details -->
  <div class="col-md-8">
    <div class="mb-3">
      <% if (book.authors && book.authors.length) { %>
        <span class="badge bg-primary me-1">Author</span>
        <%= book.authors.join(", ") %>
      <% } %>
      <% if (book.genres && book.genres.length) { %>
        <span class="badge bg-secondary ms-3 me-1">Genre</span>
        <%= book.genres.join(", ") %>
      <% } %>
    </div>

    <p class="text-muted mb-1"><strong>Published:</strong> <%= book.publish_date ? book.publish_date.toISOString().slice(0,10) : "N/A" %></p>
    <p class="text-muted mb-3"><strong>ISBN:</strong> <%= book.isbn || "N/A" %></p>

    <hr />

    <div class="description" style="white-space: pre-wrap;">
      <%= book.description || "No description available." %>
    </div>
    <div class="mt-4 d-flex gap-2">
      <a href="/books" class="btn btn-outline-secondary">‚Üê Back to Books</a>
      <a href="/books/<%= book.book_id %>/edit" class="btn btn-primary">
          <i class="bi bi-pencil-square"></i> Edit
      </a>
      <form action="/books/<%= book.book_id %>/delete" method="POST">
        <input type="hidden" name="_method" value="DELETE">
        <button type="submit" class="btn btn-danger">
          <i class="bi bi-trash"></i> Delete
        </button>
      </form>
    </div>
  </div>
</div>
