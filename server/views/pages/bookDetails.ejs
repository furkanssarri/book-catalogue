<%- include("../partials/header") %>

<div class="container py-5 flex-fill">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card shadow-lg border-0">
        <div class="row g-0">
          <!-- Book Cover -->
          <div class="col-md-4 d-flex align-items-center justify-content-center bg-light">
            <% if (book.isbn) { %>
              <img
                src="https://covers.openlibrary.org/b/isbn/<%= book.isbn %>-L.jpg"
                alt="Cover of <%= book.title %>"
                class="img-fluid rounded"
              />
            <% } else { %>
              <div class="text-muted fst-italic">No cover available</div>
            <% } %>
          </div>

          <!-- Book Details -->
          <div class="col-md-8">
            <div class="card-body">
              <h2 class="card-title fw-bold mb-3"><%= book.title %></h2>
              
              <% if (book.description) { %>
                <p class="card-text text-muted"><%= book.description %></p>
              <% } %>

              <p class="mb-2">
                <strong>Published:</strong>
                <%= book.publish_date ? book.publish_date.toString().slice(0,10) : "N/A" %>
              </p>

              <p class="mb-2">
                <strong>ISBN:</strong> <%= book.isbn || "N/A" %>
              </p>

              <p class="mb-2">
                <strong>Authors:</strong>
                <%= book.authors && book.authors.length ? book.authors.join(", ") : "Unknown" %>
              </p>

              <p class="mb-2">
                <strong>Genres:</strong>
                <%= book.genres && book.genres.length ? book.genres.join(", ") : "Uncategorized" %>
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Back button -->
      <div class="text-center mt-4">
        <a href="/books" class="btn btn-outline-secondary">‚Üê Back to Books</a>
      </div>
    </div>
  </div>
</div>

<%- include("../partials/footer") %>
